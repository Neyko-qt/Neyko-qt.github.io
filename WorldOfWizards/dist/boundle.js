!function(e){var t={};function r(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";class a{static randomValue(e){return e[Math.floor(Math.random()*e.length)]}static randomInterval(e,t){return Math.floor(Math.random()*(t-e+1))+e}static drawScoreTable(){let e=a.sortArray(),t=document.querySelector("table");for(let r=0;r<e.length;r++){let a=document.createElement("tr"),i=document.createElement("td"),o=document.createElement("td");i.innerText=e[r][0],o.innerText=e[r][1],a.appendChild(i),a.appendChild(o),t.appendChild(a)}}static sortArray(){let e=[],t=localStorage.length;for(let r=0;r<t;r++)"game"===localStorage.key(r).substr(0,4)&&e.push(localStorage.getItem(localStorage.key(r)).split(","));for(let t=0;t<e.length;t++)e[t][1]=Number(e[t][1]);return e=a.sortValues(e).slice(0,10)}static sortValues(e){let t=e.length;for(let r=0;r<t-1;r++)for(let a=0;a<t-1-r;a++)if(e[a+1][1]>e[a][1]){let t=e[a+1];e[a+1]=e[a],e[a]=t}return e}static randomPosition(e){let t,r,a=e.length;for(;0!==a;)r=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[r],e[r]=t;return e}}t.a=a},function(e,t,r){"use strict";r.d(t,"d",function(){return a}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return s}),r.d(t,"e",function(){return n});const a={book:["книга"],bottle:["бутылка"],window:["окно"],mouse:["мышь"],owl:["сова"]},i={book:["book"],hello:["hello"],bottle:["bottle"],apple:["apple"],table:["table"],water:["water"]},o={"img/countries/france.jpg":["france"],"img/countries/russia.jpg":["russia"],"img/countries/norway.jpg":["normay"],"img/countries/turkey.jpg":["turkey"],"img/countries/brazil.jpg":["brazil"]},s={"audio/audition/animal.mp3":"animal","audio/audition/account.mp3":"account","audio/audition/amount.mp3":"amount","audio/audition/addition.mp3":"addition","audio/audition/answer.mp3":"answer"},n={bgLevel:["bg1","bg2","bg3"],adjective:["Ужасный","Вонючий","Глупый","Тупой","Злой","Уродливый","Пухлый","Вредный"],noun:["Толстяк","Ворчун","Слизняк","Глупец","Кульдюк","Пердун"],name:["Герман","Артур","Измаил","Аркадий","Лаврентий","Маркус","Арсений"]}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _helper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_arrays__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);class Task{constructor(){this.type,this.expression,this.solutionArr=[],this.answerValue}randomTask(){document.getElementById("tempMedia").innerHTML="",document.getElementById("answerInput").value="";const e=[this.arithmetic,this.translate,this.audition,this.countries,this.dragAndDrop];_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomValue(e).bind(this)()}arithmetic(){this.type="arithmetic";const firstValue=_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomInterval(0,100),secondValue=_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomInterval(0,100),typeOfoperator=["+","-","*","/"],operation=_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomValue(typeOfoperator);this.expression=firstValue+operation+secondValue,this.solutionArr.push(eval(this.expression).toString()),document.querySelector(".condition").innerHTML="Your solution:<br>"+this.expression}translate(){this.type="translate";const e=Object.keys(_arrays__WEBPACK_IMPORTED_MODULE_1__.d),t=e.length;this.expression=e[_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomInterval(0,t-1)],this.solutionArr=_arrays__WEBPACK_IMPORTED_MODULE_1__.d[this.expression],document.querySelector(".condition").innerHTML="Translate this word:<br>"+this.expression}audition(){this.type="audition";const e=Object.keys(_arrays__WEBPACK_IMPORTED_MODULE_1__.a),t=e.length;this.expression=e[_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomInterval(0,t-1)],this.solutionArr.push(_arrays__WEBPACK_IMPORTED_MODULE_1__.a[this.expression]);const r=document.createElement("audio");r.setAttribute("src",this.expression),r.setAttribute("controls",""),document.getElementById("tempMedia").appendChild(r),document.querySelector(".condition").innerHTML="Repeat the word"}countries(){this.type="countries";const e=Object.keys(_arrays__WEBPACK_IMPORTED_MODULE_1__.b),t=e.length;this.expression=e[_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomInterval(0,t-1)],this.solutionArr=_arrays__WEBPACK_IMPORTED_MODULE_1__.b[this.expression];const r=document.createElement("img");r.setAttribute("src",this.expression),document.getElementById("tempMedia").appendChild(r),document.querySelector(".condition").innerHTML="What is the country?"}dragAndDrop(){this.type="dragAndDrop",document.getElementById("answerInput").style.display="none";const e=Object.keys(_arrays__WEBPACK_IMPORTED_MODULE_1__.c),t=e.length;this.expression=e[_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomInterval(0,t-1)],this.solutionArr=_arrays__WEBPACK_IMPORTED_MODULE_1__.c[this.expression];const r=_helper__WEBPACK_IMPORTED_MODULE_0__.a.randomPosition(this.expression.split("")),a=document.createElement("ul");a.classList.add("sortable");for(let e=0;e<r.length;e++){const t=document.createElement("li");t.innerHTML=r[e],a.appendChild(t)}document.getElementById("tempMedia").appendChild(a),$(function(){$(".sortable").sortable().disableSelection()}),document.querySelector(".condition").innerHTML="make word from letters:"}wasSolved(){return this.solutionArr.indexOf(this.answerValue.toLowerCase())>-1}}__webpack_exports__.a=Task},function(e,t,r){"use strict";r.r(t);var a=class{constructor(e){this.name=e,this.healthBar=100,this.health=this.healthBar,this.round=0,this.attackAudio=new Audio,this.audioHeal=new Audio}createPlayer(){document.querySelector(".playerName").innerHTML=this.name,this.createHealthBar(),this.createAudio()}createHealthBar(){document.querySelector(".playerHealthCount").style.width=this.health/this.healthBar*100+"%",document.querySelector(".playerHealthCount").innerHTML=this.health}createAudio(){this.attackAudio.preload="auto",this.attackAudio.volume=1,this.attackAudio.src="./audio/playerAttack.mp3",this.audioHeal.preload="auto",this.audioHeal.volume=1,this.audioHeal.src="./audio/playerHeal.mp3"}attack(){this.attackAudio.play(),document.querySelector(".playerPicture").classList.remove("playerStay"),document.querySelector(".playerPicture").classList.add("playerAttack")}stopAttack(){document.querySelector(".playerPicture").classList.remove("playerAttack"),document.querySelector(".playerPicture").classList.add("playerStay")}healing(){this.audioHeal.play(),document.querySelector(".playerPicture").classList.remove("playerStay"),document.querySelector(".playerPicture").classList.add("playerHeal")}stopHealing(){document.querySelector(".playerPicture").classList.remove("playerHeal"),document.querySelector(".playerPicture").classList.add("playerStay")}hurt(){document.querySelector(".playerPicture").classList.remove("playerStay"),document.querySelector(".playerPicture").classList.add("playerHurt")}stopHurt(){document.querySelector(".playerPicture").classList.remove("playerHurt"),document.querySelector(".playerPicture").classList.add("playerStay")}die(){document.querySelector(".playerPicture").classList.remove("playerStay"),document.querySelector(".playerPicture").classList.add("playerDie")}checkHealth(){return this.health>0}},i=r(0),o=r(1);class s{constructor(e){this.round=e,this.name=s.createName(),this.healthBar=s.generateHealth(this.round),this.health=this.healthBar,this.attackAudio=new Audio}createZombie(){document.querySelector(".mainGame").classList.add(o.e.bgLevel[this.round%o.e.bgLevel.length]),document.querySelector(".mainGame").classList.remove(o.e.bgLevel[(this.round-1)%o.e.bgLevel.length]),document.querySelector(".zombieName").innerHTML=this.name,document.querySelector(".counter").innerHTML="round "+(this.round+1),this.createHealthBar(),this.createAudio()}createHealthBar(){document.querySelector(".zombieHealthCount").style.width=this.health/this.healthBar*100+"%",document.querySelector(".zombieHealthCount").innerHTML=this.health}createAudio(){this.attackAudio.preload="auto",this.attackAudio.volume=1,this.attackAudio.src="./audio/zombieAttack.mp3"}attack(){this.attackAudio.play(),document.querySelector(".zombiePicture").classList.remove("zombieStay"),document.querySelector(".zombiePicture").classList.add("zombieAttack")}stopAttack(){document.querySelector(".zombiePicture").classList.remove("zombieAttack"),document.querySelector(".zombiePicture").classList.add("zombieStay")}hurt(){document.querySelector(".zombiePicture").classList.remove("zombieStay"),document.querySelector(".zombiePicture").classList.add("zombieHurt")}stopHurt(){document.querySelector(".zombiePicture").classList.remove("zombieHurt"),document.querySelector(".zombiePicture").classList.add("zombieStay")}die(){document.querySelector(".zombiePicture").classList.remove("zombieStay"),document.querySelector(".zombiePicture").classList.add("zombieDie")}stopDie(){document.querySelector(".zombiePicture").classList.remove("zombieDie"),document.querySelector(".zombiePicture").classList.add("zombieStay")}checkHealth(){return this.health>0}static createName(){return i.a.randomValue(o.e.adjective)+" "+i.a.randomValue(o.e.noun)+" "+i.a.randomValue(o.e.name)}static generateHealth(e){return 30+10*e+i.a.randomInterval(0,10)}}var n=s,l=r(2);var c=class{constructor(){this.typeOfAbility,this.task}createAbility(){document.querySelector(".abilityPage").style.display="block"}getType(e){this.typeOfAbility=e.target.getAttribute("id"),document.querySelector(".abilityPage").style.display="none",document.querySelector(".taskSection").style.display="block",this.task=new l.a,this.task.randomTask()}heal(e){e.health=Math.min(e.health+i.a.randomInterval(20,25+5*e.round),e.healthBar),e.createHealthBar(),e.healing(),setTimeout(e.stopHealing,2e3)}attackEnemy(e,t){t.health=Math.max(t.health-i.a.randomInterval(20,25+t.round),0),t.createHealthBar(),e.attack(),t.hurt(),setTimeout(e.stopAttack.bind(e),2e3),setTimeout(t.stopHurt.bind(t),2e3)}cast(e,t){switch(this.typeOfAbility){case"attackAbility":this.task.wasSolved()?this.attackEnemy(e,t):this.attackEnemy(t,e);break;case"healAbility":this.task.wasSolved()?this.heal(e):this.attackEnemy(t,e)}}};let u=new class{constructor(){this.btnSelectedAbility,this.player,this.zombie,this.ability}start(){document.querySelector(".registration").style.display="none",document.querySelector(".mainGame").style.display="block";const e=document.querySelector("input").value;this.player=new a(e),this.player.createPlayer(),this.zombie=new n(this.player.round),this.zombie.createZombie(this.player),this.ability=new c,this.btnSelectedAbility=this.ability.createAbility.bind(this.ability),btnSelectedAbility.addEventListener("click",this.btnSelectedAbility),document.querySelector(".abilities").addEventListener("click",()=>{this.ability.getType(event)}),btnAnswer.addEventListener("click",()=>{this.setAnswer()})}setAnswer(){"dragAndDrop"===this.ability.task.type&&this.setDragAndDropAnswer(),this.ability.task.answerValue=document.getElementById("answerInput").value.toString(),document.querySelector(".taskSection").style.display="none",btnSelectedAbility.removeEventListener("click",this.btnSelectedAbility),this.ability.cast(this.player,this.zombie),setTimeout(this.checkHealth.bind(this),2e3)}setDragAndDropAnswer(){const e=document.querySelector(".sortable");let t="";Array.prototype.forEach.call(e.children,e=>{t+=e.innerText}),document.getElementById("answerInput").value=t,document.getElementById("answerInput").style.display="inline-block"}checkHealth(){this.zombie.checkHealth()?this.player.checkHealth()?btnSelectedAbility.addEventListener("click",this.btnSelectedAbility):(this.player.die(),setTimeout(()=>this.finish(),3e3)):(this.zombie.die(),setTimeout(()=>this.zombie.stopDie(),1999),setTimeout(()=>this.createNewZombie(),2e3))}createNewZombie(){document.querySelector(".zombiePicture"),this.player.round+=1,this.zombie=new n(this.player.round),this.zombie.createZombie(this.player),this.player.health=Math.min(this.player.health+i.a.randomInterval(10,15+this.player.round),this.player.healthBar),this.player.createHealthBar(),btnSelectedAbility.addEventListener("click",this.btnSelectedAbility)}finish(){document.querySelector(".mainGame").style.display="none",document.querySelector(".scoreTable").style.display="block",localStorage.setItem("game"+Date.now(),this.player.name+","+this.player.round),i.a.drawScoreTable()}},d=u.start.bind(u);btnStart.addEventListener("click",d)}]);
//# sourceMappingURL=boundle.js.map